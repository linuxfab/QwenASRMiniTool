# Qwen3 ASR MiniTool

æœ¬åœ°èªéŸ³è¾¨è­˜å­—å¹•ç”Ÿæˆå·¥å…·ã€‚åŸºæ–¼ Qwen3-ASR-0.6B æ¨¡å‹ï¼Œ
ä½¿ç”¨ OpenVINO INT8 é‡åŒ–æ¨ç†ï¼Œ**ç›®å‰ç‰ˆæœ¬ä¸ä½¿ç”¨ GPU**ï¼Œç´” CPU å³å¯åŸ·è¡Œã€‚
æ­¤ç‰ˆæœ¬è¾¨è­˜ç‡æ™®é€šï¼Œä¸»è¦æ˜¯è¦ä½ åŒäº‹ã€ä½ åŒå­¸ï¼Œæ‹·è²çµ¦ä½ é˜¿å¬¤éƒ½èƒ½å…è²»é€²è¡ŒèªéŸ³è¾¨è­˜ã€‚
ä¹‹å¾Œæœƒèª¿æ•´ä¸€å€‹ä½¿ç”¨ Python ç’°å¢ƒçš„ GPU å°ˆæ¥­ç‰ˆæœ¬ï¼Œä»¥æå‡è¾¨è­˜çš„æ­£ç¢ºæ€§å’Œçµ¦ LLM ä½¿ç”¨ã€‚

---

## åŠŸèƒ½

- éŸ³è¨Šæª”æ¡ˆï¼ˆMP3 / WAV / FLAC / M4A / OGGï¼‰â†’ SRT å­—å¹•
- å³æ™‚èªéŸ³è¾¨è­˜ï¼ˆéº¥å…‹é¢¨è¼¸å…¥ï¼‰ï¼Œä¸¦éå®Œå…¨ä¸²æµå³æ™‚ï¼Œæœƒåœ¨åœé “ä¸­è‡ªå‹•è™•ç†è¾¨è­˜
- è‡ªå‹• VAD éœéŸ³åµæ¸¬ï¼Œåˆ†æ®µè½‰éŒ„
- **èªªè©±è€…åˆ†é›¢**ï¼ˆSpeaker Diarizationï¼‰ï¼šå¯æŒ‡å®šèªªè©±äººæ•¸ï¼ŒSRT è‡ªå‹•æ¨™è¨˜èªªè©±è€…èº«ä»½
- **å¤šèªç³»è¾¨è­˜**ï¼šæ”¯æ´ä¸­æ–‡ã€æ—¥æ–‡ã€è‹±æ–‡ç­‰ 30 ç¨®èªç³»ï¼Œäº¦å¯è¨­ç‚ºè‡ªå‹•åµæ¸¬
- **è¾¨è­˜æç¤º**ï¼ˆåƒè€ƒæ–‡å­—ï¼‰ï¼šå¯è²¼å…¥æ­Œè©ã€é—œéµå­—æˆ–èƒŒæ™¯èªªæ˜ï¼Œæå‡è¾¨è­˜æº–ç¢ºåº¦
- ç¹é«”ä¸­æ–‡è¼¸å‡ºï¼Œå¯è¾¨è­˜ä¸­è‹±æ··åˆ
- é¦–æ¬¡åŸ·è¡Œè«‹é¸æ“‡è³‡æ–™å¤¾è‡ªå‹•ä¸‹è¼‰æ¨¡å‹ï¼ˆç´„ 1.2 GBï¼‰
- Portable ç‰ˆæœ¬åŒ…æ‹¬æ¨¡å‹é–‹ç®±å³ç”¨ï¼ŒBasic ç‰ˆæœ¬æª”æ¡ˆè¼ƒå°ï¼Œæ¡è‡ªå‹•ä¸‹è¼‰æ¨¡å‹
- è‹¥ç³»çµ±å·²æœ‰ Python è™›æ“¬ç’°å¢ƒä¸”å·²å®‰è£éœ€æ±‚ï¼Œå¯åŸ·è¡Œ `app.py`ï¼Œä½¿ç”¨ `build.bat` å¯å»ºç«‹ç‚º exe æª”æ¡ˆ

---

## ä½¿ç”¨èªªæ˜

### éŸ³æª”è½‰å­—å¹•

![éŸ³æª”è½‰å­—å¹•ä»‹é¢](Readme/readme01.jpg)

1. å•Ÿå‹•å¾Œï¼Œä¸Šæ–¹ç‹€æ…‹åˆ—ç¢ºèªé¡¯ç¤º **ã€Œâœ… å°±ç·’ï¼ˆCPUï¼‰ã€**ï¼Œè¡¨ç¤ºæ¨¡å‹å·²è¼‰å…¥å®Œæˆ
2. é»é¸ã€Œ**ç€è¦½â€¦**ã€é¸æ“‡éŸ³è¨Šæª”æ¡ˆï¼ˆMP3ã€WAVã€FLACã€M4A ç­‰å‡æ”¯æ´ï¼‰
3. é»é¸ã€Œ**â–¶ é–‹å§‹è½‰æ›**ã€ï¼Œä¸‹æ–¹é€²åº¦åˆ—èˆ‡è¨˜éŒ„è¦–çª—æœƒå³æ™‚é¡¯ç¤ºå„æ®µè™•ç†ç‹€æ…‹
4. å®Œæˆå¾Œé»é¸ã€Œ**ğŸ“ é–‹å•Ÿè¼¸å‡ºè³‡æ–™å¤¾**ã€å³å¯å–å¾— `.srt` å­—å¹•æª”

> é¦–æ¬¡å•Ÿå‹•è‹¥æ¨¡å‹å°šæœªä¸‹è¼‰ï¼Œç¨‹å¼æœƒè‡ªå‹•æç¤ºé¸æ“‡å­˜æ”¾è³‡æ–™å¤¾ä¸¦é–‹å§‹ä¸‹è¼‰ï¼ˆç´„ 1.2 GBï¼‰ï¼Œå®Œæˆå¾Œè‡ªå‹•è¼‰å…¥ã€‚

---

### å³æ™‚èªéŸ³è¾¨è­˜

![å³æ™‚èªéŸ³è¾¨è­˜ä»‹é¢](Readme/readme02.jpg)

1. åˆ‡æ›è‡³ã€Œ**å³æ™‚è½‰æ›**ã€åˆ†é 
2. åœ¨ä¸‹æ‹‰é¸å–®é¸æ“‡**æ­£ç¢ºçš„éŸ³è¨Šè¼¸å…¥è£ç½®**ï¼š
   - ç­†é›»é€šå¸¸é¸æ“‡é è¨­çš„**éº¥å…‹é¢¨é™£åˆ—**ï¼ˆMicrophone Arrayï¼‰
   - æ¡Œæ©Ÿè«‹é¸æ“‡å°æ‡‰çš„éº¥å…‹é¢¨è£ç½®
   - è‹¥æ¸…å–®é¡¯ç¤ºç•°å¸¸ï¼Œé»é¸ã€Œ**é‡æ–°æ•´ç†**ã€æ›´æ–°è£ç½®åˆ—è¡¨
3. é»é¸ã€Œ**â–¶ é–‹å§‹éŒ„éŸ³**ã€å¾Œï¼Œå°è‘—éº¥å…‹é¢¨èªªè©±
4. è¾¨è­˜ä¸¦éå®Œå…¨å³æ™‚ä¸²æµï¼Œ**ç³»çµ±æœƒåœ¨èªªè©±åœé “çš„éç¨‹ä¸­é€²è¡Œè¾¨è­˜è™•ç†**ï¼Œåœé “ç´„ 0.8 ç§’å¾Œè‡ªå‹•è§¸ç™¼ï¼Œçµæœä»¥æ™‚é–“æˆ³è¨˜é¡¯ç¤ºåœ¨ä¸‹æ–¹å­—å¹•å€
5. é»é¸ã€Œ**â–  åœæ­¢éŒ„éŸ³**ã€çµæŸï¼Œå¯å†é»é¸ã€Œ**ğŸ’¾ å„²å­˜ SRT**ã€å°‡ç´¯ç©çš„å­—å¹•å­˜æª”

---

### èªªè©±è€…åˆ†é›¢ï¼ˆ0221 æ–°å¢ï¼‰

![èªªè©±è€…åˆ†é›¢ä»‹é¢](Readme/Readme03.jpg)

éŸ³æª”è½‰å­—å¹•æ™‚ï¼Œå¯å‹¾é¸ã€Œ**èªªè©±è€…åˆ†é›¢**ã€ï¼Œä¸¦é€éã€Œ**äººæ•¸**ã€ä¸‹æ‹‰é¸å–®æŒ‡å®šèªªè©±äººæ•¸ï¼ˆè‡ªå‹• / 2â€“8 äººï¼‰ã€‚é–‹å•Ÿå¾Œï¼ŒSRT å­—å¹•çš„æ¯ä¸€æ®µæ–‡å­—æœƒè‡ªå‹•åŠ ä¸Šã€Œ**èªªè©±è€…1ï¼š**ã€ã€ã€Œ**èªªè©±è€…2ï¼š**ã€ç­‰æ¨™è¨˜ã€‚

**é©ç”¨å ´æ™¯èˆ‡é™åˆ¶ï¼š**
- Podcastã€NotebookLM é›™äººå°è«‡ç­‰**è¼ªæµèªªè©±**çš„å½¢å¼æ•ˆæœæœ€ä½³ï¼Œåˆ†æ®µæ¸…æ¥šæ˜é¡¯
- å¤šäººæœƒè­°æˆ–**åŒæ™‚èªªè©±**çš„æƒ…å¢ƒæ•ˆæœè¼ƒä¸ç†æƒ³
- é¦–æ¬¡ä½¿ç”¨æ™‚ï¼Œç¨‹å¼æœƒè‡ªå‹•æç¤ºä¸‹è¼‰èªªè©±è€…åˆ†é›¢æ¨¡å‹ï¼ˆç´„ 32 MBï¼‰ï¼Œä¸‹è¼‰å®Œæˆå³å¯å•Ÿç”¨

> **å»ºè­°ï¼š** å·²çŸ¥èªªè©±äººæ•¸æ™‚è«‹æ˜ç¢ºæŒ‡å®šï¼Œå¯æœ‰æ•ˆé¿å…éåº¦åˆ†å‰²ï¼ˆä¾‹å¦‚ 2 äººå°è©±è¢«èª¤åˆ¤ç‚º 5 äººï¼‰ã€‚

---

### å¤šèªç³»è¾¨è­˜ï¼ˆ0221 æ–°å¢ï¼‰

![å¤šèªç³»è¾¨è­˜ä»‹é¢](Readme/Readme04.jpg)

ä¸Šæ–¹å·¥å…·åˆ—æ–°å¢ã€Œ**èªç³»**ã€ä¸‹æ‹‰é¸å–®ï¼Œå¯å¼·åˆ¶æŒ‡å®šè¾¨è­˜èªè¨€ï¼ˆé è¨­ç‚ºè‡ªå‹•åµæ¸¬ï¼‰ã€‚æ”¯æ´ä¸­æ–‡ã€æ—¥æ–‡ã€è‹±æ–‡ã€éŸ“æ–‡ã€æ³•æ–‡ç­‰å…± 30 ç¨®èªç³»ï¼Œå°éŸ³æª”è½‰å­—å¹•åŠå³æ™‚è¾¨è­˜å‡æœ‰æ•ˆã€‚

- è‡ªå‹•åµæ¸¬ï¼šæ¨¡å‹ä¾éŸ³è¨Šå…§å®¹åˆ¤æ–·èªè¨€ï¼Œé©åˆå¤šèªæ··åˆçš„éŸ³è¨Š
- æŒ‡å®šèªç³»ï¼ˆå¦‚ã€ŒJapaneseã€ï¼‰ï¼šé–å®šèªè¨€ï¼Œå¯æ¸›å°‘èª¤è¾¨çš„æƒ…å½¢
- æ—¥èªæ­Œè©è¾¨è­˜çš„æ‰å­—ç‡è¼ƒä¸­æ–‡é«˜ï¼Œä½†å’¬å­—æ¸…æ™°çš„éŸ³èª¿ä»èƒ½æ­£ç¢ºè¾¨è­˜

---

### è¾¨è­˜æç¤º / åƒè€ƒæ–‡å­—ï¼ˆ0221 æ–°å¢ï¼‰

![è¾¨è­˜æç¤ºä»‹é¢](Readme/Readme05.jpg)

åœ¨ã€Œ**éŸ³æª”è½‰å­—å¹•**ã€å’Œã€Œ**å³æ™‚è½‰æ›**ã€åˆ†é å„æ–°å¢ä¸€å€‹ã€Œ**è¾¨è­˜æç¤º**ã€æ–‡å­—æ¡†ï¼Œå¯è²¼å…¥æ­Œè©ã€é—œéµå­—æˆ–èƒŒæ™¯èªªæ˜æ–‡å­—ï¼Œå”åŠ© ASR æ¨¡å‹æå‡è¾¨è­˜æº–ç¢ºåº¦ã€‚

- **æ‡‰ç”¨ç¯„ä¾‹ï¼š** è²¼å…¥ Suno æ­Œè©ï¼Œå†é€²è¡Œå³æ™‚æ¼”å”±è¾¨è­˜ï¼Œç¢ºèªæ­Œè©æ˜¯å¦å”±æ­£ç¢º
- æœ‰åƒè€ƒæ–‡å­—çš„æƒ…æ³ä¸‹ï¼Œæ­Œè©è¾¨è­˜çš„å­—è©æº–ç¢ºåº¦ç›¸å°è¼ƒé«˜
- äº¦å¯è®€å…¥ `.txt` æª”æ¡ˆï¼Œæˆ–ä½¿ç”¨å³éµé¸å–®ç›´æ¥è²¼ä¸Šæ–‡å­—

---

## æ›´ç‰ˆæ–¹å¼

### Python ç‰ˆæœ¬

```bash
git pull
```

æ‹‰å–å¾Œç›´æ¥åŸ·è¡Œ `app.py` å³å¯ï¼Œç¨‹å¼å•Ÿå‹•æ™‚æœƒè‡ªå‹•æª¢æŸ¥æ¨¡å‹å®Œæ•´æ€§ä¸¦åœ¨å¿…è¦æ™‚è£œé½Šç¼ºå°‘çš„æª”æ¡ˆã€‚

### EXE ç·¨è­¯ç‰ˆæœ¬ï¼ˆPortable / Basicï¼‰

- **å·²ä¸‹è¼‰é Portable ç‰ˆæœ¬çš„ä½¿ç”¨è€…**ï¼šä¸éœ€é‡æ–°ä¸‹è¼‰ Portableï¼Œåƒ…éœ€ä¸‹è¼‰ **Basic ç‰ˆæœ¬**ï¼Œè§£å£“ç¸®å¾Œè¦†è“‹ç¾æœ‰è³‡æ–™å¤¾å³å¯ã€‚
- å•Ÿå‹•å¾Œç¨‹å¼æœƒè‡ªå‹•æª¢æŸ¥æ¨¡å‹å®Œæ•´æ€§ï¼›è‹¥ç‚ºé¦–æ¬¡ä½¿ç”¨èªªè©±è€…åˆ†é›¢åŠŸèƒ½ï¼Œæœƒå½ˆå‡ºæç¤ºä¸‹è¼‰èªªè©±è€…åˆ†é›¢æ¨¡å‹ï¼ˆç´„ 32 MBï¼‰ã€‚
- åŸæœ‰çš„ `Subtitle` è¼¸å‡ºè³‡æ–™å¤¾å…§å®¹**ä¸æœƒå—åˆ°å½±éŸ¿**ã€‚

---

## ç³»çµ±éœ€æ±‚

| é …ç›® | æœ€ä½è¦æ±‚ |
|------|---------|
| ä½œæ¥­ç³»çµ± | Windows 10 / 11ï¼ˆ64-bitï¼‰|
| Python | 3.10 ä»¥ä¸Š |
| RAM | 6 GBï¼ˆæ¨ç†æ™‚å³°å€¼ç´„ 4.8 GBï¼‰|
| ç¡¬ç¢Ÿç©ºé–“ | 2 GBï¼ˆæ¨¡å‹ 1.2 GB + ç¨‹å¼ï¼‰|
| CPU | Intel 11th Gen+ æˆ–åŒç­‰ç´š AMD |

> GPU éå¿…è¦ã€‚OpenVINO GPU ç›®å‰åƒ…æ”¯æ´ Intel GPUï¼Œä¸æ”¯æ´ NVIDIAã€‚

---

## æ¨¡å‹ä¾†æº

| é …ç›® | é€£çµ |
|------|------|
| OpenVINO INT8 é‡åŒ–ç‰ˆï¼ˆä¸»è¦ä¸‹è¼‰æºï¼‰ | [dseditor/Qwen3-ASR-0.6B-INT8_ASYM-OpenVINO](https://huggingface.co/dseditor/Qwen3-ASR-0.6B-INT8_ASYM-OpenVINO) |
| OpenVINO INT8 é‡åŒ–ç‰ˆï¼ˆå‚™ç”¨ä¸‹è¼‰æºï¼‰ | [Echo9Zulu/Qwen3-ASR-0.6B-INT8_ASYM-OpenVINO](https://huggingface.co/Echo9Zulu/Qwen3-ASR-0.6B-INT8_ASYM-OpenVINO) |
| åŸå§‹ PyTorch æ¨¡å‹ | [Qwen/Qwen3-ASR-0.6B](https://huggingface.co/Qwen/Qwen3-ASR-0.6B) |
| VAD æ¨¡å‹ | [snakers4/silero-vad v4.0](https://github.com/snakers4/silero-vad) |
| èªªè©±è€…åˆ†é›¢æ¨¡å‹ï¼ˆåˆ†æ®µ + è²ç´‹ï¼‰| [altunenes/speaker-diarization-community-1-onnx](https://huggingface.co/altunenes/speaker-diarization-community-1-onnx) |

---

## é–‹ç™¼è€…èªªæ˜

### é‡æ–°ç”¢ç”Ÿ prompt_template.json

`processor_numpy.py` çš„ BPE prompt æ¨¡æ¿éœ€è¦å¾åŸå§‹æ¨¡å‹æå–ä¸€æ¬¡ã€‚
è‹¥æ›´æ›æ¨¡å‹ç‰ˆæœ¬ï¼Œè«‹åœ¨æœ‰ `torch + transformers` çš„ç’°å¢ƒä¸­åŸ·è¡Œ `generate_prompt_template.py`ï¼š

```bash
python generate_prompt_template.py
```

é€™æœƒåœ¨ç›®éŒ„ä¸‹ç”¢ç”Ÿï¼š
- `prompt_template.json`ï¼šPrompt token ID æ¨¡æ¿ï¼ŒåŸ·è¡Œç¨‹å¼æ™‚å¿…é ˆå­˜åœ¨æ–¼æ ¹ç›®éŒ„
- `ov_models/mel_filters.npy`ï¼šMel æ¿¾æ³¢å™¨çŸ©é™£

### æ¶æ§‹èªªæ˜

```
app.py                  # CustomTkinter GUI ä¸»ç¨‹å¼
downloader.py           # æ¨¡å‹å®Œæ•´æ€§æª¢æŸ¥èˆ‡è‡ªå‹•ä¸‹è¼‰ï¼ˆå«å‚™æ´ URLï¼‰
processor_numpy.py      # ç´” numpy Mel / BPE è™•ç†å™¨ï¼ˆä¸ä¾è³´ torchï¼‰
diarize.py              # èªªè©±è€…åˆ†é›¢å¼•æ“ï¼ˆå…©éšæ®µèšé¡ï¼Œä¸ä¾è³´ torchï¼‰
generate_prompt_template.py  # å¾åŸå§‹æ¨¡å‹æå– prompt æ¨¡æ¿
prompt_template.json    # Chat template token IDï¼ˆå«èªç³» suffix IDsï¼‰
ov_models/
  mel_filters.npy       # é è¨ˆç®— Mel æ¿¾æ³¢å™¨
  silero_vad_v4.onnx    # VAD éœéŸ³åµæ¸¬æ¨¡å‹ï¼ˆåŸ·è¡Œå¾Œä¸‹è¼‰ï¼‰
  qwen3_asr_int8/       # OpenVINO INT8 æ¨¡å‹ï¼ˆåŸ·è¡Œå¾Œä¸‹è¼‰ï¼Œ~1.2 GBï¼‰
  diarization/          # èªªè©±è€…åˆ†é›¢ ONNX æ¨¡å‹ï¼ˆé¦–æ¬¡ä½¿ç”¨æ™‚ä¸‹è¼‰ï¼Œ~32 MBï¼‰
    segmentation-community-1.onnx
    embedding_model.onnx
```

---

## æˆæ¬Š

æœ¬å°ˆæ¡ˆç¨‹å¼ç¢¼ä»¥ MIT æˆæ¬Šé‡‹å‡ºã€‚æ¨¡å‹æ¬Šé‡ä¾å„è‡ªä¾†æºçš„æˆæ¬Šæ¢æ¬¾ã€‚
